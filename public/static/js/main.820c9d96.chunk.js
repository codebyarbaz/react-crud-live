(this.webpackJsonpcrud_frontend=this.webpackJsonpcrud_frontend||[]).push([[0],{182:function(e,t,s){},183:function(e,t,s){},184:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(0),r=s.n(n),c=s(26),i=s.n(c),o=(s(77),s(78),s(17)),l=s(11),d=s(8),u=s.n(d),h=s(10),j=s(3),b=s(21),m=s(22),p=s(24),O=s(23),x=s(32),g=s.n(x),f=s(188),v=s(19),N=s(20),w=Object(l.f)((function(e){var t=Object(a.jsxs)("ul",{className:"list-unstyled d-flex mb-0 justify-content-end",children:[Object(a.jsx)("li",{className:"d-sm-inline-block d-none mr-4",children:Object(a.jsxs)("span",{className:"mb-0 themeColor_Secondary d-inline-block font-weight-font-weight-bolder pb-1 mainMenuLink text-decoration-none",children:["Welcome, ",e.user,"!"]})}),Object(a.jsx)("li",{className:"d-inline-block mr-4",children:Object(a.jsx)(o.b,{to:"/login",className:"text-decoration-none d-inline-block mainMenuLink ".concat(e.location&&"/login"===e.location.pathname?"activeLink":""),children:Object(a.jsx)("span",{className:"mb-0 themeColor_Secondary d-inline-block font-weight-font-weight-bolder pb-1",children:"Login"})})}),Object(a.jsx)("li",{className:"d-inline-block",children:Object(a.jsx)(o.b,{to:"/signup",className:"text-decoration-none d-inline-block mainMenuLink ".concat(e.location&&"/signup"===e.location.pathname?"activeLink":""),children:Object(a.jsx)("span",{className:"mb-0 themeColor_Secondary d-inline-block font-weight-font-weight-bolder pb-1",children:"Signup"})})})]}),s=null;return!0===e.isAdmin&&(s=Object(a.jsx)("li",{className:"d-inline-block mr-4",children:Object(a.jsx)(o.b,{to:"/admin",className:"text-decoration-none d-inline-block mainMenuLink ".concat(e.location&&"/admin"===e.location.pathname?"activeLink":""),children:Object(a.jsx)("span",{className:"mb-0 themeColor_Secondary d-inline-block font-weight-font-weight-bolder pb-1",children:"Admin"})})})),e.user&&"guest"!==e.user&&(t=Object(a.jsxs)("ul",{className:"list-unstyled d-flex mb-0 justify-content-end",children:[Object(a.jsx)("li",{className:"d-sm-inline-block d-none mr-sm-4 mr-2",children:Object(a.jsxs)("span",{className:"mb-0 themeColor_Secondary d-inline-block font-weight-font-weight-bolder pb-1 mainMenuLink text-decoration-none",children:["Welcome, ",e.user,"!"]})}),s,Object(a.jsx)("li",{className:"d-inline-block",children:Object(a.jsx)("span",{className:"mb-0 themeColor_Secondary d-inline-block font-weight-font-weight-bolder pb-1 text-decoration-none mainMenuLink c-pointer",onClick:function(){localStorage.clear(),window.location.assign("/login")},children:"Logout"})})]})),Object(a.jsx)("header",{children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row py-3 align-items-center",children:[Object(a.jsx)("div",{className:"col-sm-6 col-7",children:Object(a.jsx)(o.b,{to:"/",className:"text-decoration-none d-inline-block",children:Object(a.jsxs)("h3",{className:"mb-0 font-weight-bold mainTitle",children:[Object(a.jsx)("span",{className:"d-inline-block themeColor font-weight-bold",children:"React"}),"\xa0",Object(a.jsx)("span",{className:"d-inline-block themeColor_Secondary",children:"CRUD"})]})})}),Object(a.jsx)("div",{className:"col-sm-6 col-5",children:t})]})})})})),k=(s(86),function(e){var t=null;return e.errors&&e.errors.length&&(t=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)("ul",{className:"errorList list-unstyled ml-5",children:e.errors.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsx)("p",{className:"mb-0 text-danger d-inline-block",children:e})},t)}))})})})),t}),y=Object.freeze({baseURL:"https://crud.pcstuff.net",USER_ROLES:{USER:"User",ADMIN:"Admin"}}),U=s(69),S=function(){try{var e=localStorage.getItem("token");return e&&e.length>50?{success:!0,data:Object(U.a)(e)}:null}catch(t){return null}},C=function(e,t){if(e){var s=e;return s&&s.length>t?"".concat(s.substring(0,t),".."):s}return""},D=s(70),I=s.n(D).a.create({baseURL:y.baseURL});I.defaults.withCredentials=!0;var M={getRequest:function(e,t){return Object(h.a)(u.a.mark((function s(){var a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,I.get(e,t);case 2:return a=s.sent,s.abrupt("return",a.data);case 4:case"end":return s.stop()}}),s)})))()},postRequest:function(e,t,s){return Object(h.a)(u.a.mark((function a(){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!s){a.next=8;break}return a.next=4,I.post(e,t,s);case 4:return n=a.sent,a.abrupt("return",n.data);case 8:return a.next=10,I.post(e,t);case 10:return r=a.sent,a.abrupt("return",r.data);case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",null);case 18:case"end":return a.stop()}}),a,null,[[0,14]])})))()},patchRequest:function(e,t,s){return Object(h.a)(u.a.mark((function a(){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!s){a.next=8;break}return a.next=4,I.patch(e,t,s);case 4:return n=a.sent,a.abrupt("return",n.data);case 8:return a.next=10,I.patch(e,t);case 10:return r=a.sent,a.abrupt("return",r.data);case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",null);case 18:case"end":return a.stop()}}),a,null,[[0,14]])})))()},deleteRequest:function(e,t){return Object(h.a)(u.a.mark((function s(){var a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,I.delete(e,t);case 2:return a=s.sent,s.abrupt("return",a.data);case 4:case"end":return s.stop()}}),s)})))()},formDataRequest:function(e,t,s){return Object(h.a)(u.a.mark((function a(){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I[t](e,s,{"Content-Type":void 0});case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}),a)})))()}},A=(s(30),s.p+"static/media/signup.0eaabb86.png"),_=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).state={loader:!1,signupDetails:{name:"",email:"",password:"",role:y.USER_ROLES.ADMIN},errors:[],successMsg:!1,showPassword:!1,loggedUser:"guest",isAdmin:!1},a}return Object(m.a)(s,[{key:"isAdmin",value:function(){var e=localStorage.getItem("token");if(e){var t=S();if(!0===t.success){var s=!1;t.data.role===y.USER_ROLES.ADMIN&&(s=!0),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{isAdmin:s,loggedUser:t.data.name}))}}}},{key:"onInputChange",value:function(e,t){var s=Object(j.a)({},this.state.signupDetails);s[t]=e.target.value,this.setState(Object(j.a)(Object(j.a)({},this.state),{},{signupDetails:s}))}},{key:"validateDetails",value:function(){var e=[],t=Object(j.a)({},this.state.signupDetails);return t.name||e.push("Please enter name"),t.email?g.a.isEmail(t.email)||e.push("Please enter valid email address"):e.push("Please enter email"),t.password?t.password.length<5&&e.push("Password must be at least 5 characters long"):e.push("Please enter password"),e}},{key:"onSignup",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=this.validateDetails(this.state.signupDetails)).length){e.next=5;break}return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:t})),e.abrupt("return");case 5:return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loader:!0})),e.next=8,M.postRequest("/api/v1/user",this.state.signupDetails);case 8:(s=e.sent)&&!0===s.success?this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loader:!1,signupDetails:{name:"",email:"",password:"",role:y.USER_ROLES.ADMIN},errors:[],successMsg:!0})):this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loader:!1,errors:[s.msg],successMsg:!1})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:["Something went wrong! Please try again"]}));case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"togglePasswordEye",value:function(){var e=this;this.setState(Object(j.a)(Object(j.a)({},this.state),{},{showPassword:!this.state.showPassword})),setTimeout((function(){var t=document.querySelector("#password");!0===e.state.showPassword?t.type="text":!1===e.state.showPassword&&(t.type="password")}),50)}},{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="Create your account!",this.isAdmin();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(a.jsx)("button",{type:"button",className:"btn btn-block rounded text-white themeBtn",onClick:this.onSignup.bind(this),children:"Create Account"});!0===this.state.loader&&(t=Object(a.jsxs)("div",{className:"dotsWrapper",children:[Object(a.jsx)("span",{className:"dot dotOne"}),Object(a.jsx)("span",{className:"dot dotTwo"}),Object(a.jsx)("span",{className:"dot dotThree"}),Object(a.jsx)("span",{className:"dot dotFour"})]}));var s=null;!0===this.state.successMsg&&(s=Object(a.jsx)("p",{className:"text-success alert-success py-1 rounded",children:"Account created! You can login now"}));var r=Object(a.jsx)(v.a,{onClick:this.togglePasswordEye.bind(this),icon:N.c,className:"inputRightIcon"});return!0===this.state.showPassword&&(r=Object(a.jsx)(v.a,{onClick:this.togglePasswordEye.bind(this),icon:N.b,className:"inputRightIcon"})),Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)(w,{user:this.state.loggedUser,isAdmin:this.state.isAdmin}),Object(a.jsx)("section",{className:"mt-lg-5 mt-4",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row align-items-center",children:[Object(a.jsxs)("div",{className:"col-lg-5",children:[Object(a.jsx)("h1",{className:"mb-lg-4 mb-3 welcomeHeading",children:"Welcome, please create your account"}),Object(a.jsxs)(f.a,{noValidate:!0,children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-lg-12",children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{id:"name",type:"text",className:"form-control form-control-lg defaultInput text-capitalize",placeholder:"Full Name",name:"name",value:this.state.signupDetails.name,onChange:function(t){return e.onInputChange(t,"name")}})})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-lg-12",children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{id:"email",type:"text",className:"form-control form-control-lg defaultInput",placeholder:"info@abc.com",value:this.state.signupDetails.email,name:"email",onChange:function(t){return e.onInputChange(t,"email")}})})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-lg-12",children:Object(a.jsxs)("div",{className:"form-group position-relative",children:[Object(a.jsx)("input",{id:"password",type:"password",className:"form-control form-control-lg defaultInput",placeholder:"Password",value:this.state.signupDetails.password,name:"password",onChange:function(t){return e.onInputChange(t,"password")}}),r]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"userRole",className:"mb-0 extraText userRoleText",children:"I am an"}),Object(a.jsxs)("div",{className:"mt-3 d-flex justify-content-start",children:[Object(a.jsxs)("div",{className:"mr-4",children:[Object(a.jsx)("input",{type:"radio",className:"radioBtn",id:"adminRole",name:"userRole",value:y.USER_ROLES.ADMIN,defaultChecked:!0,onChange:function(t){return e.onInputChange(t,"role")}}),Object(a.jsx)("label",{htmlFor:"adminRole",className:"extraText userRoleText",children:"Admin"})]}),Object(a.jsxs)("div",{className:"mr-4",children:[Object(a.jsx)("input",{type:"radio",className:"radioBtn",id:"userRole",name:"userRole",value:y.USER_ROLES.USER,onChange:function(t){return e.onInputChange(t,"role")}}),Object(a.jsx)("label",{htmlFor:"userRole",className:"extraText userRoleText",children:"User"})]})]})]})})}),Object(a.jsx)(k,{errors:this.state.errors}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12 text-center",children:[s,Object(a.jsx)("div",{className:"form-group CTA_Wrapper",children:t})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsxs)("p",{className:"extraText",children:["Already have an account? \xa0",Object(a.jsx)(o.b,{to:"/login",className:"d-inline-block text-decoration-none themeColor themeColorHover",children:"Sign In"})]})})})})]})]}),Object(a.jsx)("div",{className:"offset-lg-1"}),Object(a.jsx)("div",{className:"col-lg-6 text-lg-right d-none d-lg-block",children:Object(a.jsx)("img",{className:"img-fluid signup_banner",src:A,alt:""})})]})})})]})}}]),s}(n.Component),R=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).state={loader:!1,loginDetails:{email:"",password:""},errors:[],showPassword:!1,loggedUser:"guest",isAdmin:!1},a}return Object(m.a)(s,[{key:"onInputChange",value:function(e,t){var s=Object(j.a)({},this.state.loginDetails);s[t]=e.target.value,this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loginDetails:s}))}},{key:"validateDetails",value:function(){var e=[],t=Object(j.a)({},this.state.loginDetails);return t.email?g.a.isEmail(t.email)||e.push("Please enter valid email address"):e.push("Please enter email"),t.password||e.push("Please enter password"),e}},{key:"onLogin",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=this.validateDetails(this.state.loginDetails)).length){e.next=5;break}return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:t})),e.abrupt("return");case 5:return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loader:!0})),e.next=8,M.postRequest("/api/v1/auth/login",this.state.loginDetails);case 8:if(!(s=e.sent)||!1!==s.success){e.next=12;break}return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loader:!1,errors:[s.msg]})),e.abrupt("return");case 12:if(!(a=S(s.token))||!1!==a.success){e.next=16;break}return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:["Login failed!"]})),e.abrupt("return");case 16:localStorage.setItem("token",s.token),a&&a.data&&a.data.role===y.USER_ROLES.ADMIN?this.props.history.push("/admin"):this.props.history.push("/"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:["Something went wrong! Please try again"]}));case 24:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"togglePasswordEye",value:function(){var e=this;this.setState(Object(j.a)(Object(j.a)({},this.state),{},{showPassword:!this.state.showPassword})),setTimeout((function(){var t=document.querySelector("#password");!0===e.state.showPassword?t.type="text":!1===e.state.showPassword&&(t.type="password")}),50)}},{key:"isAdmin",value:function(){var e=localStorage.getItem("token");if(e){var t=S();if(!0===t.success)return void(t.data.role===y.USER_ROLES.ADMIN?this.props.history.push("/admin"):this.props.history.push("/"))}}},{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="Login into your account!",this.isAdmin();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(a.jsx)("button",{type:"button",className:"btn btn-block rounded text-white themeBtn",onClick:this.onLogin.bind(this),children:"Sign In"});!0===this.state.loader&&(t=Object(a.jsxs)("div",{className:"dotsWrapper",children:[Object(a.jsx)("span",{className:"dot dotOne"}),Object(a.jsx)("span",{className:"dot dotTwo"}),Object(a.jsx)("span",{className:"dot dotThree"}),Object(a.jsx)("span",{className:"dot dotFour"})]}));var s=Object(a.jsx)(v.a,{onClick:this.togglePasswordEye.bind(this),icon:N.c,className:"inputRightIcon"});return!0===this.state.showPassword&&(s=Object(a.jsx)(v.a,{onClick:this.togglePasswordEye.bind(this),icon:N.b,className:"inputRightIcon"})),Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)(w,{user:this.state.loggedUser,isAdmin:this.state.isAdmin}),Object(a.jsx)("section",{className:"mt-lg-5 mt-4",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row align-items-center",children:[Object(a.jsxs)("div",{className:"col-lg-5",children:[Object(a.jsx)("h1",{className:"mb-lg-4 mb-3 welcomeHeading",children:"Welcome, please login your account"}),Object(a.jsxs)(f.a,{noValidate:!0,children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-lg-12",children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{id:"email",type:"text",className:"form-control form-control-lg defaultInput",placeholder:"info@abc.com",name:"email",onChange:function(t){return e.onInputChange(t,"email")}})})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-lg-12",children:Object(a.jsxs)("div",{className:"form-group position-relative",children:[Object(a.jsx)("input",{id:"password",type:"password",className:"form-control form-control-lg defaultInput",placeholder:"Password",name:"password",onChange:function(t){return e.onInputChange(t,"password")}}),s]})})}),Object(a.jsx)(k,{errors:this.state.errors}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12 text-center",children:Object(a.jsx)("div",{className:"form-group CTA_Wrapper",children:t})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsxs)("p",{className:"extraText",children:["Don\u2019t have an account? \xa0",Object(a.jsx)(o.b,{to:"/signup",className:"d-inline-block text-decoration-none themeColor themeColorHover",children:"Sign Up"})]})})})})]})]}),Object(a.jsx)("div",{className:"offset-lg-1"}),Object(a.jsx)("div",{className:"col-lg-6 text-lg-right d-none d-lg-block",children:Object(a.jsx)("img",{className:"img-fluid signup_banner",src:A,alt:""})})]})})})]})}}]),s}(n.Component),L=(s(182),function(e){return Object(a.jsxs)("div",{className:"userCard mx-auto mb-sm-5 mb-4 p-sm-4 p-3 position-relative",children:[Object(a.jsx)("img",{src:e.image,alt:e.name,className:"mb-3 userCard__Image"}),Object(a.jsx)("h3",{className:"userCard__Name",children:C(e.name,16)}),Object(a.jsx)("span",{className:"d-block userCard__Designation",children:C(e.designation,18)}),Object(a.jsx)("div",{className:"CTA_Overlay position-absolute"})]})}),T=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).state={isAdmin:!1,loader:!1,userCards:[],loggedUser:"guest"},a}return Object(m.a)(s,[{key:"isAdmin",value:function(){var e=localStorage.getItem("token");if(e){var t=S();if(!0===t.success){var s=!1;t.data.role===y.USER_ROLES.ADMIN&&(s=!0),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loggedUser:t.data.name,isAdmin:s}))}}}},{key:"getUsers",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getRequest("/api/v1/card",{headers:{authorization:localStorage.getItem("token")}});case 2:!0===(t=e.sent).success&&this.setState(Object(j.a)(Object(j.a)({},this.state),{},{userCards:t.data}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="React CRUD App",this.getUsers(),this.isAdmin();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.userCards.map((function(e,t){return Object(n.createElement)(L,Object(j.a)(Object(j.a)({},e),{},{key:t}))}));return 0===this.state.userCards.length&&(e=Object(a.jsx)("p",{className:"mb-0",children:"No user cards found!"})),Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)(w,{user:this.state.loggedUser,isAdmin:this.state.isAdmin}),Object(a.jsx)("div",{className:"container mt-sm-5 mt-4 px-0 px-sm-3",children:Object(a.jsx)("div",{className:"row flex-wrap mx-auto justify-content-center",children:e})})]})}}]),s}(n.Component),E=s(34),P=s(13),F=s(187),q=function(e){var t,s,r="Add New User"===e.modalTitle?Object(a.jsx)("button",(t={type:"button",className:"btn rounded text-white themeBtn px-3"},Object(P.a)(t,"type","button"),Object(P.a)(t,"onClick",e.onAddUser),Object(P.a)(t,"children","Add"),t)):Object(a.jsx)("button",(s={type:"button",className:"btn rounded text-white themeBtn px-3"},Object(P.a)(s,"type","button"),Object(P.a)(s,"onClick",e.onUpdateUser),Object(P.a)(s,"children","Update"),s));!0===e.addUser_Loader&&(r=Object(a.jsxs)("div",{className:"dotsWrapper",children:[Object(a.jsx)("span",{className:"dot dotOne"}),Object(a.jsx)("span",{className:"dot dotTwo"}),Object(a.jsx)("span",{className:"dot dotThree"}),Object(a.jsx)("span",{className:"dot dotFour"})]}));var c=null;return!0===e.addUserSuccessMsg&&(c=Object(a.jsx)("div",{className:"form-group mb-0 mt-3",children:Object(a.jsx)("p",{className:"text-success alert-success py-1 rounded mb-0 px-3",children:e.addUserSuccessMsgText})})),Object(a.jsx)(n.Fragment,{children:Object(a.jsxs)(F.a,{size:"lg",show:e.showModal,animation:!1,backdrop:"static",keyboard:!1,className:"border-0",children:[Object(a.jsxs)(F.a.Header,{className:"align-items-center",children:[Object(a.jsx)("h4",{className:"mb-0",children:e.modalTitle}),Object(a.jsx)(v.a,{className:"fontIcon c-pointer",icon:N.d,onClick:e.onAddUserModalClose})]}),Object(a.jsxs)(F.a.Body,{children:[Object(a.jsxs)(f.a,{noValidate:!0,children:[Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{id:"name",type:"text",className:"form-control form-control-lg defaultInput",placeholder:"Arbaz Tyagi",name:"name",value:e.cardDetails.name,onChange:function(t){return e.onInputChange(t,"name")}})}),Object(a.jsx)("div",{className:"form-group mb-0",children:Object(a.jsx)("input",{id:"designation",type:"text",className:"form-control form-control-lg defaultInput",placeholder:"Mean Stack Developer",name:"designation",value:e.cardDetails.designation,onChange:function(t){return e.onInputChange(t,"designation")}})}),c]}),Object(a.jsx)("div",{className:"mt-3",children:Object(a.jsx)(k,{errors:e.errors})})]}),Object(a.jsx)(F.a.Footer,{className:"d-block",children:r})]})})},B=s(186),H=(s(183),function(e){return Object(a.jsxs)(B.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"tableHeading",children:"No."}),Object(a.jsx)("th",{className:"tableHeading",children:"Name"}),Object(a.jsx)("th",{className:"tableHeading",children:"Image"}),Object(a.jsx)("th",{className:"tableHeading",children:"Actions"})]})}),Object(a.jsx)("tbody",{children:e.users.map((function(t,s){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"",children:s+1}),Object(a.jsx)("td",{className:"",children:C(t.name,10)}),Object(a.jsx)("td",{children:Object(a.jsx)("img",{alt:t.name,className:"userImage",src:t.image})}),Object(a.jsxs)("td",{children:[Object(a.jsx)(v.a,{className:"mr-3 fontIcon c-pointer ",icon:N.a,onClick:function(){return e.onEditUser(t._id)}}),Object(a.jsx)(v.a,{className:"fontIcon c-pointer ",icon:N.e,onClick:function(){return e.onConfirmDelete(t._id)}})]})]},s)}))})]})}),W=function(e){var t,s,n=Object(a.jsx)("button",(t={type:"button",className:"btn rounded text-white themeBtn px-3"},Object(P.a)(t,"type","button"),Object(P.a)(t,"onClick",e.onDeleteUser),Object(P.a)(t,"children","Yes"),t));return!0===e.deleteUser_Loader&&(n=Object(a.jsxs)("div",{className:"dotsWrapper",children:[Object(a.jsx)("span",{className:"dot dotOne"}),Object(a.jsx)("span",{className:"dot dotTwo"}),Object(a.jsx)("span",{className:"dot dotThree"}),Object(a.jsx)("span",{className:"dot dotFour"})]})),Object(a.jsxs)(F.a,{size:"sm",show:e.showDeleteModal,animation:!1,onHide:function(){return e.toggleDeleteUserModal(!1)},children:[Object(a.jsx)(F.a.Header,{children:Object(a.jsx)(F.a.Title,{children:Object(a.jsx)("h4",{className:"mb-0",children:"Are you sure?"})})}),Object(a.jsx)(F.a.Body,{children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row align-items-center",children:[Object(a.jsx)("div",{className:"col-6 text-center",children:n}),Object(a.jsx)("div",{className:"col-6 text-center",children:Object(a.jsx)("button",(s={type:"button",className:"btn rounded text-white themeBtn px-3"},Object(P.a)(s,"type","button"),Object(P.a)(s,"onClick",(function(){return e.toggleDeleteUserModal(!1)})),Object(P.a)(s,"children","No"),s))})]})})})]})},z=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).state={loader:!1,loggedUser:"guest",users:[],showModal:!1,showDeleteModal:!1,cardDetails:{name:"",designation:""},editCardId:"",modalTitle:"Add New User",addUser_Loader:!1,errors:[],deleteUser_Id:"",deleteUser_Loader:!1,addUserSuccessMsg:!1,addUserSuccessMsgText:"",isAdmin:!1},a}return Object(m.a)(s,[{key:"isAdmin",value:function(){var e=localStorage.getItem("token");if(e){var t=S();if(!0===t.success){var s=!1;if(t.data.role!==y.USER_ROLES.ADMIN)return void this.props.history.push("/");s=!0,this.setState(Object(j.a)(Object(j.a)({},this.state),{},{isAdmin:s,loggedUser:t.data.name}))}}}},{key:"onInputChange",value:function(e,t){var s=Object(j.a)({},this.state.cardDetails);s[t]=e.target.value,this.setState(Object(j.a)(Object(j.a)({},this.state),{},{cardDetails:s}))}},{key:"getUsers",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getRequest("/api/v1/card",null);case 2:!0===(t=e.sent).success&&this.setState(Object(j.a)(Object(j.a)({},this.state),{},{users:t.data}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleAddUserModal",value:function(e){this.setState(Object(j.a)(Object(j.a)({},this.state),{},{showModal:e}))}},{key:"toggleDeleteUserModal",value:function(e){var t=Object(j.a)(Object(j.a)({},this.state),{},{showDeleteModal:e});!1===e&&(t.deleteUser_Id=""),this.setState(t)}},{key:"onAddUserModalClose",value:function(){this.setState(Object(j.a)(Object(j.a)({},this.state),{},{showModal:!1,cardDetails:{name:"",designation:""},modalTitle:"Add New User",addUser_Loader:!1,errors:[],addUserSuccessMsg:!1,editCardId:""}))}},{key:"validateDetails",value:function(){var e=[],t=Object(j.a)({},this.state.cardDetails);return t.name||e.push("Please enter name"),t.designation||e.push("Please enter designation"),e}},{key:"onAddUser",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=this.validateDetails())||!t.length){e.next=5;break}return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:t})),e.abrupt("return");case 5:return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{addUser_Loader:!0})),e.next=8,M.postRequest("/api/v1/card",this.state.cardDetails,{headers:{authorization:localStorage.getItem("token")}});case 8:(s=e.sent)&&!0===s.success?((a=Object(E.a)(this.state.users)).unshift(s.data),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loader:!1,users:a,addUserSuccessMsgText:"User card added!",addUserSuccessMsg:!0,cardDetails:{name:"",designation:""},errors:[],addUser_Loader:!1}))):this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:[s.msg],addUser_Loader:!1,addUserSuccessMsgText:""})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:["Something went wrong"]}));case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"onConfirmDelete",value:function(e){this.setState(Object(j.a)(Object(j.a)({},this.state),{},{showDeleteModal:!0,deleteUser_Id:e}))}},{key:"onDeleteUser",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,s,a,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.state.deleteUser_Id){e.next=7;break}return this.setState(Object(j.a)(Object(j.a)({},this.state),{},{deleteUser_Loader:!0})),e.next=5,M.deleteRequest("/api/v1/card/".concat(this.state.deleteUser_Id),{headers:{authorization:localStorage.getItem("token")}});case 5:(t=e.sent)&&!0===t.success&&(s=this.state.users.findIndex((function(e){return e._id===n.state.deleteUser_Id})))>-1&&((a=Object(E.a)(this.state.users)).splice(s,1),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{users:a,showDeleteModal:!1,deleteUser_Id:"",deleteUser_Loader:!1})));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{showDeleteModal:!1,deleteUser_Id:"",deleteUser_Loader:!1}));case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onEditUser",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getRequest("/api/v1/card/".concat(t));case 2:(s=e.sent)&&!0===s.success&&this.setState(Object(j.a)(Object(j.a)({},this.state),{},{editCardId:s.data._id,showModal:!0,modalTitle:"Edit - ".concat(s.data.name),cardDetails:{name:s.data.name,designation:s.data.designation}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onUpdateUser",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,s,a,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.editCardId){e.next=13;break}return e.prev=1,this.setState(Object(j.a)(Object(j.a)({},this.state),{},{addUser_Loader:!0})),e.next=5,M.patchRequest("/api/v1/card/".concat(this.state.editCardId),this.state.cardDetails,{headers:{authorization:localStorage.getItem("token")}});case 5:(t=e.sent)&&!0===t.success?(s=Object(E.a)(this.state.users),(a=s.findIndex((function(e){return e._id===n.state.editCardId})))>-1&&(s[a].name=this.state.cardDetails.name,s[a].designation=this.state.cardDetails.designation),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loader:!1,users:s,addUserSuccessMsg:!0,errors:[],addUserSuccessMsgText:"User card updated!",addUser_Loader:!1,editCardId:""}))):this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:[t.msg],addUser_Loader:!1,addUserSuccessMsgText:""})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.setState(Object(j.a)(Object(j.a)({},this.state),{},{errors:["Something went wrong"],addUser_Loader:!1,addUserSuccessMsgText:""}));case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="Admin Panel",this.getUsers(),this.isAdmin();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(a.jsx)(H,{users:this.state.users,onConfirmDelete:this.onConfirmDelete.bind(this),onEditUser:this.onEditUser.bind(this)});return 0===this.state.users.length&&(t=Object(a.jsx)("p",{className:"mb-0",children:"No user cards found!"})),Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)(w,{user:this.state.loggedUser,isAdmin:this.state.isAdmin}),Object(a.jsx)("div",{className:"container mt-sm-5 mt-4 px-0 px-sm-3",children:Object(a.jsxs)("div",{className:"row mx-0",children:[Object(a.jsx)("div",{className:"col-12 mb-sm-5 mb-4",children:Object(a.jsx)("button",{onClick:function(){return e.toggleAddUserModal(!0)},type:"button",className:"btn rounded text-white themeBtn px-3",children:"Add User Card"})}),Object(a.jsx)("div",{className:"col-12",children:t})]})}),Object(a.jsx)(q,{showModal:this.state.showModal,cardDetails:this.state.cardDetails,modalTitle:this.state.modalTitle,addUser_Loader:this.state.addUser_Loader,errors:this.state.errors,addUserSuccessMsg:this.state.addUserSuccessMsg,addUserSuccessMsgText:this.state.addUserSuccessMsgText,onInputChange:this.onInputChange.bind(this),onAddUserModalClose:this.onAddUserModalClose.bind(this),onAddUser:this.onAddUser.bind(this),onUpdateUser:this.onUpdateUser.bind(this)}),Object(a.jsx)(W,{showDeleteModal:this.state.showDeleteModal,deleteUser_Loader:this.state.deleteUser_Loader,toggleDeleteUserModal:this.toggleDeleteUserModal.bind(this),onDeleteUser:this.onDeleteUser.bind(this)})]})}}]),s}(n.Component);var V=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:T}),Object(a.jsx)(l.a,{path:"/login",exact:!0,component:R}),Object(a.jsx)(l.a,{path:"/signup",exact:!0,component:_}),Object(a.jsx)(l.a,{path:"/admin",exact:!0,component:z})]})})},J=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,189)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),r(e),c(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(V,{})}),document.getElementById("root")),J()},30:function(e,t,s){},78:function(e,t,s){},86:function(e,t,s){}},[[184,1,2]]]);
//# sourceMappingURL=main.820c9d96.chunk.js.map